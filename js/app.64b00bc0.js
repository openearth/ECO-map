(function(e){function t(t){for(var o,i,l=t[0],s=t[1],p=t[2],u=0,d=[];u<l.length;u++)i=l[u],r[i]&&d.push(r[i][0]),r[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);c&&c(t);while(d.length)d.shift()();return n.push.apply(n,p||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],o=!0,l=1;l<a.length;l++){var s=a[l];0!==r[s]&&(o=!1)}o&&(n.splice(t--,1),e=i(i.s=a[0]))}return e}var o={},r={app:0},n=[];function i(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=o,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(a,o,function(t){return e[t]}.bind(null,o));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/ECO-map/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var p=0;p<l.length;p++)t(l[p]);var c=s;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var o=a("1356"),r=a.n(o);r.a},1356:function(e,t,a){},3497:function(e,t,a){"use strict";var o=a("64bd"),r=a.n(o);r.a},"393a":function(e,t,a){"use strict";var o=a("d15b"),r=a.n(o);r.a},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("097d");var o=a("2b0e"),r=a("bb71");a("da64");o["a"].use(r["a"],{iconfont:"md"});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-toolbar",{attrs:{height:"64px",prominent:"",fixed:""}},[a("v-toolbar-side-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),a("v-toolbar-title",[e._v("Erosion, Consequences and Opportunities")])],1),a("v-navigation-drawer",{attrs:{id:"navdrawer",fixed:"","hide-overlay":""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("menu-component")],1),a("map-component")],1)},i=[],l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"map"}},[a("v-mapbox",{ref:"map",attrs:{"access-token":"pk.eyJ1Ijoic2lnZ3lmIiwiYSI6Il8xOGdYdlEifQ.3-JZpqwUa3hydjAJFXIlMA","map-style":"mapbox://styles/mapbox/light-v9",center:[5.673272,52.079502],zoom:7.88,pitch:0,bearing:0,id:"map"}}),a("div",{attrs:{id:"popup-table"}},[a("table",{staticClass:"tg"},e._l(e.table_properties,function(t,o){return a("tr",[a("td",[e._v(e._s(o))]),a("td",[e._v(e._s(t))])])}))])],1)},s=[],p=(a("ac6a"),a("7f7f"),a("e192")),c=a.n(p),u={name:"mapbox-sources",sources:{url:"mapbox://sedimentkaart.ce8lve45,sedimentkaart.b67gl0hf,sedimentkaart.1ios0psi,sedimentkaart.bbbxkvbv",type:"vector"}},d=[{title:"Bodemverandering [cm/jaar]",active:!0,barlegend:"background: linear-gradient(to left,  rgb(101, 72, 0), rgb(256, 256, 256), rgb(0, 0, 76));",bartext:"-5 0 5",type:"datalayers","mapbox-layers":[{id:"bodemverandering-10km",type:"fill",source:"mapbox-sources","source-layer":"bodemverandering_10km-1jsp3k",maxzoom:12,layout:{},paint:{"fill-color":["interpolate",["linear"],["get","Bodemveran"],-5,"rgb(0, 0, 76)",0,"rgb(256, 256, 256)",5,"rgb(101, 72, 0)"]}},{id:"bodemverandering",type:"fill",source:"mapbox-sources","source-layer":"bodemverandering_1km-1l1ax2",minzoom:12,layout:{},paint:{"fill-color":["interpolate",["linear"],["get","Bodemveran"],-5,"rgb(0, 0, 76)",0,"rgb(256, 256, 256)",5,"rgb(101, 72, 0)"]}},{id:"bodemverandering-hover",type:"line",source:"mapbox-sources","source-layer":"bodemverandering_1km-1l1ax2",minzoom:12,layout:{},paint:{"line-color":"black"},filter:["==","id",""]}]},{title:"Bandijken",type:"datalayers",active:!0,colorlegend:[{color:"background-color: #8BEF7B",name:"Dijkgebied"}],"mapbox-layers":[{id:"bandijken-6hau6f",type:"line",metadata:{},source:"mapbox-sources","source-layer":"bandijken-6hau6f",minzoom:12,layout:{},paint:{"line-color":"hsl(112, 78%, 69%)"}}]},{title:"Kabels en leidingen",type:"consequences",active:!0,texticonlegend:[{texticon:"x",style:"font-family: Caveat; color: purple; font-size: xx-large; line-height: 20px;",name:"Intersectie met erosie gebied"}],"mapbox-layers":[{id:"kabels",type:"symbol",metadata:{},source:"mapbox-sources","source-layer":"kabels-ddx4t2",minzoom:12,layout:{"text-field":"x","text-font":["Caveat Bold","Arial Unicode MS Regular"],"text-size":40,"text-allow-overlap":!0,"text-pitch-alignment":"map"},paint:{"text-color":"purple"}},{id:"kabels-hover",type:"symbol",source:"mapbox-sources","source-layer":"kabels-ddx4t2",minzoom:12,layout:{"text-field":"x","text-font":["Caveat Bold","Arial Unicode MS Regular"],"text-size":40,"text-allow-overlap":!0,"text-pitch-alignment":"map"},paint:{"text-color":"purple","text-halo-color":"black","text-halo-width":2},filter:["==","OBJECTID",""]}]}],m={name:"map-component",data:function(){return{map:null,hover_id:"",table_properties:{"hoi ":"checking"},kabelpopup:!1}},components:{},mounted:function(){var e=this;this.map=this.$refs.map.map,this.$store.commit("setMap",this.map);var t=new c.a.Popup({closeButton:!1,closeOnClick:!1});t.setDOMContent(document.getElementById("popup-table")),this.map.on("load",function(){console.log("adding source"),e.map.addSource(u.name,u.sources),e.$store.state.dataLayers.forEach(function(t){t["mapbox-layers"].forEach(function(t){e.map.addLayer(t)})}),e.map.on("mousemove","kabels",function(a){e.kabelpopup=!0,"kabels"===a.features[0].layer.id&&(e.map.getCanvas().style.cursor="pointer",e.map.setFilter("kabels-hover",["==","OBJECTID",a.features[0].properties.OBJECTID]),e.table_properties={},e.table_properties=a.features[0].properties,t.setLngLat(a.lngLat).addTo(e.map)),e.kabelpopup=!0}),e.map.on("mouseleave","kabels",function(){t.remove(),e.map.getCanvas().style.cursor="",e.map.setFilter("kabels-hover",["==","OBJECTID",""]),e.hover_id="",e.kabelpopup=!1}),e.map.on("mousemove","bodemverandering",function(a){!1===e.kabelpopup&&(e.map.getCanvas().style.cursor="pointer",e.map.setFilter("bodemverandering-hover",["==","Id",e.hover_id]),e.table_properties={},e.table_properties["Bodemverandering [cm/jaar]"]=a.features[0].properties.Bodemveran.toFixed(5),e.table_properties["Oppervlakte [m2]"]=a.features[0].properties.area,e.table_properties["Volume [m3]"]=a.features[0].properties.volume,t.setLngLat(a.lngLat).addTo(e.map),e.hover_id!==a.features[0].properties.Id&&(e.hover_id=a.features[0].properties.Id))}),e.map.on("mouseleave","bodemverandering",function(){e.map.getCanvas().style.cursor="",e.map.setFilter("bodemverandering-hover",["==","Id",""]),e.hover_id="",console.log("remove datapopup"),t.remove()})})}},v=m,b=(a("393a"),a("2877")),f=Object(b["a"])(v,l,s,!1,null,null,null);f.options.__file="MapComponent.vue";var y=f.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"menu"}},e._l(e.menulayers,function(t){return a("div",{key:t.layer},[a("v-toolbar",{attrs:{flat:""}},[e._v("\n      "+e._s(t.title)+"\n    ")]),a("v-list",{attrs:{"two-line":""}},e._l(e.dataLayers(t.layer),function(t){return a("v-list-tile",{key:t.title},[a("v-list-tile-avatar",[a("v-switch",{on:{change:function(t){e.toggleLayers()}},model:{value:t.active,callback:function(a){e.$set(t,"active",a)},expression:"datalayer.active"}})],1),a("v-list-tile-content",[a("v-list-tile-title",[e._v("\n            "+e._s(t.title)+"\n          ")]),a("v-list-tile-sub-title",[t.barlegend?a("div",{staticClass:"bar-wrapper"},[a("div",{staticClass:"bar",style:t.barlegend}),a("div",{staticClass:"bartext"},[e._v(e._s(t.bartext)+" ")])]):e._e(),t.colorlegend?a("div",e._l(t.colorlegend,function(t){return a("div",{key:t.name,staticClass:"color-label"},[a("span",{staticClass:"colored-span",style:t.color}),a("label",{staticClass:"ma-1"},[e._v(e._s(t.name))])])})):e._e(),t.texticonlegend?a("div",e._l(t.texticonlegend,function(t){return a("div",{key:t.name,staticClass:"color-label"},[a("span",{style:t.style},[e._v(e._s(t.texticon))]),a("label",{staticClass:"ma-1"},[e._v(e._s(t.name))])])})):e._e()])],1)],1)}),1)],1)}))},h=[],x={name:"map-component",data:function(){return{map:null,menulayers:[{layer:"datalayers",title:"Data lagen"},{layer:"consequences",title:"Consequenties"}]}},methods:{toggleLayers:function(){var e=this;if(console.log("toggling",this.$store.state.map,this.$store.state.dataLayers),null!==this.$store.state.map){var t=["none","visible"];this.$store.state.dataLayers.forEach(function(a){console.log(a),a["mapbox-layers"].forEach(function(o){void 0!==e.$store.state.map.getLayer(o.id)&&(a.active?e.$store.state.map.setLayoutProperty(o.id,"visibility",t[1]):e.$store.state.map.setLayoutProperty(o.id,"visibility",t[0]))})})}},dataLayers:function(e){return this.$store.state.dataLayers.filter(function(t){return t.type===e})}}},k=x,L=(a("3497"),a("6544")),w=a.n(L),C=a("8860"),O=a("ba95"),T=a("c954"),j=a("5d23"),$=a("b73d"),B=a("71d9"),E=Object(b["a"])(k,g,h,!1,null,null,null);E.options.__file="MenuComponent.vue";var I=E.exports;w()(E,{VList:C["a"],VListTile:O["a"],VListTileAvatar:T["a"],VListTileContent:j["a"],VListTileSubTitle:j["b"],VListTileTitle:j["c"],VSwitch:$["a"],VToolbar:B["a"]});var V={name:"App",components:{"map-component":y,"menu-component":I},data:function(){return{drawer:!0}},mounted:function(){this.$store.commit("setDataLayers",d)},methods:{toggleLayers:function(){var e=this;if(!_.isNil(this.map)){var t=["none","visible"];_.each(this.layers,function(a){_.each(a.data,function(o){void 0!==e.map.getLayer(o.id)&&(a.active?e.map.setLayoutProperty(o.id,"visibility",t[1]):e.map.setLayoutProperty(o.id,"visibility",t[0]))})})}}}},S=V,M=(a("034f"),a("7496")),P=a("f774"),z=a("706c"),D=a("2a7f"),J=Object(b["a"])(S,n,i,!1,null,null,null);J.options.__file="App.vue";var A=J.exports;w()(J,{VApp:M["a"],VNavigationDrawer:P["a"],VToolbar:B["a"],VToolbarSideIcon:z["a"],VToolbarTitle:D["a"]});var F=a("2f62");o["a"].use(F["a"]);var q=new F["a"].Store({state:{map:null,dataLayers:[]},mutations:{setMap:function(e,t){t.resize(),e.map=t},setDataLayers:function(e,t){e.dataLayers=t}},actions:{}}),U=a("bd47"),N=a.n(U);o["a"].use(N.a),o["a"].config.productionTip=!1,new o["a"]({store:q,render:function(e){return e(A)}}).$mount("#app")},"64bd":function(e,t,a){},d15b:function(e,t,a){}});
//# sourceMappingURL=app.64b00bc0.js.map